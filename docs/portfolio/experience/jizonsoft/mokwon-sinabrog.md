# 시나브로G (목원푸드) 개발 상세

## 프로젝트 개요

| 항목 | 내용 |
|------|------|
| 서비스명 | 시나브로G |
| 유형 | AI 기반 다채널 주문 관리 플랫폼 (OMS) |
| 고객사 | 목원푸드 (B2B 식자재 유통) |
| 개발 기간 | 2025.08 기획 ~ 현재 운영 중 |
| 내 역할 | 웹 메인 개발자 (프론트엔드 + 백엔드 + n8n) |

---

## 정량적 성과

| 지표 | 수치 |
|------|------|
| 내 커밋 | 484개 / 전체 915개 (53%) |
| DB 테이블 | 28개 |
| PostgreSQL 함수 | 318개 |
| API 엔드포인트 | 192개 |
| 프론트엔드 Features | 24개 |
| 기술 문서 | 21개 |
| Claude Code 스킬 | 10개 |
| 처리 시간 단축 | 20분 → 2분 (90% 감소) |
| 일일 처리량 | 6개 거래처, 200건+ 주문 |
| 라이브 URL | [mokwon.sinabrog.io](https://mokwon.sinabrog.io) |

---

## 인터뷰 기반 핵심 포인트

> "기획 + 풀스택 경험, 비정형 데이터를 정형화해서 실제 ERP와 매칭한 것"

- **비정형 → 정형 변환**: 고객마다 다른 형식의 주문서(엑셀, 문자, 이미지)를 표준화된 JSON으로 변환
- **실 ERP 매칭**: 변환된 데이터를 MSSQL 기반 기존 ERP 시스템의 품목 코드와 자동 매칭
- **실서비스 운영**: 일 200건+ 주문, 6개 거래처가 실제로 사용 중인 프로덕션 서비스

---

## 기술 스택

### 프론트엔드

| 분류 | 기술 |
|------|------|
| 프레임워크 | React 19 |
| 빌드 도구 | Vite 6 |
| 언어 | TypeScript 5.8 |
| 스타일링 | Tailwind CSS 3.4 |
| UI 컴포넌트 | Radix UI, shadcn/ui |
| 상태관리 | React Hook Form |
| 차트 | Recharts |
| 엑셀 처리 | ExcelJS, xlsx, xlsx-populate |
| AI | Google Generative AI (Gemini) |

### 백엔드

| 분류 | 기술 |
|------|------|
| 런타임 | Node.js (ES Module) |
| 프레임워크 | Express 5 |
| 데이터베이스 | PostgreSQL (메인), MSSQL (ERP 연동) |
| 인증 | JWT, bcrypt |
| 문서화 | Swagger (swagger-jsdoc) |
| 파일 처리 | Multer, Sharp, ExcelJS |
| AI | Anthropic Claude, Google Gemini, Google Vision |
| 푸시 알림 | Firebase Admin, Web Push |
| 외부 연동 | Popbill (전자세금계산서, 알림톡) |

---

## 주요 기능 모듈

### 1. 기준관리
- 거래처 관리 (CRUD, 검색, 필터)
- 품목 관리 (ERP 연동, 단가 관리)

### 2. 시스템관리
- 프로그램 관리 (메뉴 트리 구성)
- 권한 관리 (역할 기반 접근 제어)
- 사용자 관리 (계정, 비밀번호)
- 기준코드 관리
- 환경설정

### 3. 주문관리
- **단가표**: 거래처별 품목 단가 설정
- **주문 생성**: 다채널 입력 (엑셀, 문자, 이미지)
- **주문 확인**: AI 매칭 결과 검토 및 승인
- **외부 주문**: 알림톡 발송, 네이버 스토어 연동

### 4. 실시간 피드
- 문자/이미지 주문 수집
- OCR 처리 → JSON 변환
- 주문 생성 연계

### 5. 발송 처리
- SMS 발송
- 팩스 발송
- 네이버 스마트스토어 발송 처리
- 카카오 알림톡 발송

---

## 아키텍처

```
┌─────────────────────────────────────────────────────────────┐
│                        클라이언트                            │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │ 엑셀 업로드  │  │ 문자 입력   │  │ 이미지 업로드│         │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘         │
│         │                │                │                 │
│         └────────────────┼────────────────┘                 │
│                          ↓                                  │
│              ┌───────────────────────┐                      │
│              │  React 프론트엔드      │                      │
│              │  - JSON 표준화        │                      │
│              │  - OCR 처리 (Gemini)  │                      │
│              └───────────┬───────────┘                      │
└──────────────────────────┼──────────────────────────────────┘
                           ↓
┌──────────────────────────┼──────────────────────────────────┐
│                    Express 백엔드                            │
│              ┌───────────────────────┐                      │
│              │  API Layer (192개)    │                      │
│              └───────────┬───────────┘                      │
│                          ↓                                  │
│         ┌────────────────┼────────────────┐                 │
│         ↓                ↓                ↓                 │
│  ┌────────────┐  ┌────────────┐  ┌────────────┐            │
│  │ PostgreSQL │  │   MSSQL    │  │    n8n     │            │
│  │  (메인DB)  │  │   (ERP)    │  │ (워크플로우)│            │
│  └────────────┘  └────────────┘  └────────────┘            │
└─────────────────────────────────────────────────────────────┘
```

---

## 개발 방식

### 바이브 코딩 + 피드백 루프
1. 대표님이 기반 구조 잡아줌
2. 내가 Claude Code로 기능 개발
3. 대표님 + 팀원 피드백
4. 수정 및 보완
5. 반복

### 개발 생산성 향상 도구

**Claude Code 스킬 10개 개발**:
- `db-design`: 테이블 DDL 자동 생성 (83% 시간 단축)
- `git-commit`: 일관된 커밋 메시지 자동 생성
- `swagger-update`: JSDoc 기반 API 문서 자동화
- 기타 7개 (DB 연결, 코드 리팩토링 등)

---

## 내가 100% 기여한 부분

### 1. 자연어 사전 시스템
- 기획부터 개발까지 전체 담당
- 매칭률 90% → 97% 달성의 핵심

### 2. n8n 워크플로우
- 7단계 우선순위 매칭 설계
- 캐시 시스템 구축
- Google Calendar 연동

### 3. 팀 협업 환경
- 프로젝트 파일 관리 체계화
- 백업 스케줄링 자동화
- Claude Code 스킬 개발

### 4. UI/UX 기획
- 주문 관리 화면 설계
- 실시간 피드 인터페이스
- 리포트 화면 구성

---

## 기술적 도전 및 해결

### 1. 멀티 데이터베이스 아키텍처
- **문제**: PostgreSQL(신규)과 MSSQL(기존 ERP) 동시 사용
- **해결**: 트랜잭션 분리, pg_net 확장으로 비동기 동기화
- **결과**: 실시간 ERP 데이터 반영

### 2. 대용량 엑셀 처리
- **문제**: 수백 행 엑셀 파싱 시 브라우저 멈춤
- **해결**: Web Worker + 청크 단위 처리
- **결과**: 1000행 이하 엑셀 3초 내 처리

### 3. OCR 정확도
- **문제**: 손글씨/저화질 이미지 인식률 저조
- **해결**: Google Vision + Gemini 후처리
- **결과**: 인식률 85% 이상 달성
